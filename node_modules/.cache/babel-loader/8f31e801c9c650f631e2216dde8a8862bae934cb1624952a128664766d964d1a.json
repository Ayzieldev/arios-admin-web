{"ast":null,"code":"import React,{useState,useEffect}from'react';import api from'../utils/api';import{FiPackage,FiCalendar,FiMapPin,FiDollarSign,FiHome}from'react-icons/fi';import{Link}from'react-router-dom';import toast from'react-hot-toast';import'../style/CustomerOrders.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CustomerOrders=()=>{const[orders,setOrders]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{fetchOrders();},[]);const fetchOrders=async()=>{try{setLoading(true);const response=await api.get('/admin/orders/my-orders');setOrders(response.data.orders);}catch(error){toast.error('Failed to fetch orders');console.error('Error fetching orders:',error);}finally{setLoading(false);}};const getStatusColor=status=>{switch(status.toLowerCase()){case'pending':return'#ffa500';case'processing':return'#1976d2';case'shipped':return'#4caf50';case'delivered':return'#2e7d32';case'cancelled':return'#f44336';default:return'#666';}};const formatDate=dateString=>{return new Date(dateString).toLocaleDateString('en-US',{year:'numeric',month:'long',day:'numeric',hour:'2-digit',minute:'2-digit'});};if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"loading\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading your orders...\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"customer-orders\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"orders-header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"header-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header-left\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"My Orders\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Track your order history and delivery status\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"header-actions\",children:/*#__PURE__*/_jsxs(Link,{to:\"/customer-products\",className:\"action-btn products-btn\",children:[/*#__PURE__*/_jsx(FiHome,{}),/*#__PURE__*/_jsx(\"span\",{children:\"View Products\"})]})})]})}),orders.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"no-orders\",children:[/*#__PURE__*/_jsx(FiPackage,{className:\"no-orders-icon\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"No orders yet\"}),/*#__PURE__*/_jsx(\"p\",{children:\"You haven't placed any orders yet. Start shopping to see your orders here!\"}),/*#__PURE__*/_jsxs(Link,{to:\"/customer-products\",className:\"view-products-btn\",children:[/*#__PURE__*/_jsx(FiHome,{}),/*#__PURE__*/_jsx(\"span\",{children:\"View Products\"})]})]}):/*#__PURE__*/_jsx(\"div\",{className:\"orders-list\",children:orders.map(order=>/*#__PURE__*/_jsxs(\"div\",{className:\"order-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"order-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"order-info\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Order #\",order._id.slice(-8).toUpperCase()]}),/*#__PURE__*/_jsxs(\"div\",{className:\"order-meta\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"order-date\",children:[/*#__PURE__*/_jsx(FiCalendar,{}),formatDate(order.createdAt)]}),/*#__PURE__*/_jsx(\"span\",{className:\"order-status-badge\",style:{color:getStatusColor(order.status)},children:order.status.charAt(0).toUpperCase()+order.status.slice(1)})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"order-total\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20B1\",order.total.toFixed(2)]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"order-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"delivery-info\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Delivery Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"delivery-address\",children:[/*#__PURE__*/_jsx(FiMapPin,{}),/*#__PURE__*/_jsxs(\"span\",{children:[order.deliveryAddress.street,\", \",order.deliveryAddress.city,\", \",order.deliveryAddress.state,\" \",order.deliveryAddress.zipCode]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"order-items\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"Order Items (\",order.items.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"items-list\",children:order.items.map((item,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"order-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"item-info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"item-name\",children:item.product.name}),/*#__PURE__*/_jsxs(\"span\",{className:\"item-quantity\",children:[\"Qty: \",item.quantity]})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"item-price\",children:[\"\\u20B1\",item.price.toFixed(2)]})]},index))})]})]}),order.status==='delivered'&&/*#__PURE__*/_jsx(\"div\",{className:\"order-actions\",children:/*#__PURE__*/_jsx(\"button\",{className:\"reorder-btn\",children:\"Reorder\"})})]},order._id))})]});};export default CustomerOrders;","map":{"version":3,"names":["React","useState","useEffect","api","FiPackage","FiCalendar","FiMapPin","FiDollarSign","FiHome","Link","toast","jsx","_jsx","jsxs","_jsxs","CustomerOrders","orders","setOrders","loading","setLoading","fetchOrders","response","get","data","error","console","getStatusColor","status","toLowerCase","formatDate","dateString","Date","toLocaleDateString","year","month","day","hour","minute","className","children","to","length","map","order","_id","slice","toUpperCase","createdAt","style","color","charAt","total","toFixed","deliveryAddress","street","city","state","zipCode","items","item","index","product","name","quantity","price"],"sources":["C:/Users/Desktop/Desktop/gitfiles/Arios/arios-admin-web/src/pages/CustomerOrders.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport api from '../utils/api';\r\nimport { FiPackage, FiCalendar, FiMapPin, FiDollarSign, FiHome } from 'react-icons/fi';\r\nimport { Link } from 'react-router-dom';\r\nimport toast from 'react-hot-toast';\r\nimport '../style/CustomerOrders.css';\r\n\r\nconst CustomerOrders = () => {\r\n  const [orders, setOrders] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    fetchOrders();\r\n  }, []);\r\n\r\n  const fetchOrders = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await api.get('/admin/orders/my-orders');\r\n      setOrders(response.data.orders);\r\n    } catch (error) {\r\n      toast.error('Failed to fetch orders');\r\n      console.error('Error fetching orders:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getStatusColor = (status) => {\r\n    switch (status.toLowerCase()) {\r\n      case 'pending':\r\n        return '#ffa500';\r\n      case 'processing':\r\n        return '#1976d2';\r\n      case 'shipped':\r\n        return '#4caf50';\r\n      case 'delivered':\r\n        return '#2e7d32';\r\n      case 'cancelled':\r\n        return '#f44336';\r\n      default:\r\n        return '#666';\r\n    }\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    return new Date(dateString).toLocaleDateString('en-US', {\r\n      year: 'numeric',\r\n      month: 'long',\r\n      day: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"loading\">\r\n        <div className=\"loading-spinner\"></div>\r\n        <p>Loading your orders...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"customer-orders\">\r\n      <div className=\"orders-header\">\r\n        <div className=\"header-content\">\r\n          <div className=\"header-left\">\r\n            <h1>My Orders</h1>\r\n            <p>Track your order history and delivery status</p>\r\n          </div>\r\n          <div className=\"header-actions\">\r\n            <Link to=\"/customer-products\" className=\"action-btn products-btn\">\r\n              <FiHome />\r\n              <span>View Products</span>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {orders.length === 0 ? (\r\n        <div className=\"no-orders\">\r\n          <FiPackage className=\"no-orders-icon\" />\r\n          <h2>No orders yet</h2>\r\n          <p>You haven't placed any orders yet. Start shopping to see your orders here!</p>\r\n          <Link to=\"/customer-products\" className=\"view-products-btn\">\r\n            <FiHome />\r\n            <span>View Products</span>\r\n          </Link>\r\n        </div>\r\n      ) : (\r\n        <div className=\"orders-list\">\r\n          {orders.map((order) => (\r\n            <div key={order._id} className=\"order-card\">\r\n              <div className=\"order-header\">\r\n                <div className=\"order-info\">\r\n                  <h3>Order #{order._id.slice(-8).toUpperCase()}</h3>\r\n                  <div className=\"order-meta\">\r\n                    <span className=\"order-date\">\r\n                      <FiCalendar />\r\n                      {formatDate(order.createdAt)}\r\n                    </span>\r\n                    <span \r\n                      className=\"order-status-badge\"\r\n                      style={{ color: getStatusColor(order.status) }}\r\n                    >\r\n                      {order.status.charAt(0).toUpperCase() + order.status.slice(1)}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"order-total\">\r\n                  <span>â‚±{order.total.toFixed(2)}</span>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"order-details\">\r\n                <div className=\"delivery-info\">\r\n                  <h4>Delivery Information</h4>\r\n                  <div className=\"delivery-address\">\r\n                    <FiMapPin />\r\n                    <span>\r\n                      {order.deliveryAddress.street}, {order.deliveryAddress.city}, {order.deliveryAddress.state} {order.deliveryAddress.zipCode}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"order-items\">\r\n                  <h4>Order Items ({order.items.length})</h4>\r\n                  <div className=\"items-list\">\r\n                    {order.items.map((item, index) => (\r\n                      <div key={index} className=\"order-item\">\r\n                        <div className=\"item-info\">\r\n                          <span className=\"item-name\">{item.product.name}</span>\r\n                          <span className=\"item-quantity\">Qty: {item.quantity}</span>\r\n                        </div>\r\n                        <span className=\"item-price\">â‚±{item.price.toFixed(2)}</span>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {order.status === 'delivered' && (\r\n                <div className=\"order-actions\">\r\n                  <button className=\"reorder-btn\">Reorder</button>\r\n                </div>\r\n              )}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CustomerOrders; "],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,GAAG,KAAM,cAAc,CAC9B,OAASC,SAAS,CAAEC,UAAU,CAAEC,QAAQ,CAAEC,YAAY,CAAEC,MAAM,KAAQ,gBAAgB,CACtF,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAO,CAAAC,KAAK,KAAM,iBAAiB,CACnC,MAAO,6BAA6B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAErC,KAAM,CAAAC,cAAc,CAAGA,CAAA,GAAM,CAC3B,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACiB,OAAO,CAAEC,UAAU,CAAC,CAAGlB,QAAQ,CAAC,IAAI,CAAC,CAE5CC,SAAS,CAAC,IAAM,CACdkB,WAAW,CAAC,CAAC,CACf,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAA,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC9B,GAAI,CACFD,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAAE,QAAQ,CAAG,KAAM,CAAAlB,GAAG,CAACmB,GAAG,CAAC,yBAAyB,CAAC,CACzDL,SAAS,CAACI,QAAQ,CAACE,IAAI,CAACP,MAAM,CAAC,CACjC,CAAE,MAAOQ,KAAK,CAAE,CACdd,KAAK,CAACc,KAAK,CAAC,wBAAwB,CAAC,CACrCC,OAAO,CAACD,KAAK,CAAC,wBAAwB,CAAEA,KAAK,CAAC,CAChD,CAAC,OAAS,CACRL,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAAO,cAAc,CAAIC,MAAM,EAAK,CACjC,OAAQA,MAAM,CAACC,WAAW,CAAC,CAAC,EAC1B,IAAK,SAAS,CACZ,MAAO,SAAS,CAClB,IAAK,YAAY,CACf,MAAO,SAAS,CAClB,IAAK,SAAS,CACZ,MAAO,SAAS,CAClB,IAAK,WAAW,CACd,MAAO,SAAS,CAClB,IAAK,WAAW,CACd,MAAO,SAAS,CAClB,QACE,MAAO,MAAM,CACjB,CACF,CAAC,CAED,KAAM,CAAAC,UAAU,CAAIC,UAAU,EAAK,CACjC,MAAO,IAAI,CAAAC,IAAI,CAACD,UAAU,CAAC,CAACE,kBAAkB,CAAC,OAAO,CAAE,CACtDC,IAAI,CAAE,SAAS,CACfC,KAAK,CAAE,MAAM,CACbC,GAAG,CAAE,SAAS,CACdC,IAAI,CAAE,SAAS,CACfC,MAAM,CAAE,SACV,CAAC,CAAC,CACJ,CAAC,CAED,GAAInB,OAAO,CAAE,CACX,mBACEJ,KAAA,QAAKwB,SAAS,CAAC,SAAS,CAAAC,QAAA,eACtB3B,IAAA,QAAK0B,SAAS,CAAC,iBAAiB,CAAM,CAAC,cACvC1B,IAAA,MAAA2B,QAAA,CAAG,wBAAsB,CAAG,CAAC,EAC1B,CAAC,CAEV,CAEA,mBACEzB,KAAA,QAAKwB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9B3B,IAAA,QAAK0B,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5BzB,KAAA,QAAKwB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BzB,KAAA,QAAKwB,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B3B,IAAA,OAAA2B,QAAA,CAAI,WAAS,CAAI,CAAC,cAClB3B,IAAA,MAAA2B,QAAA,CAAG,8CAA4C,CAAG,CAAC,EAChD,CAAC,cACN3B,IAAA,QAAK0B,SAAS,CAAC,gBAAgB,CAAAC,QAAA,cAC7BzB,KAAA,CAACL,IAAI,EAAC+B,EAAE,CAAC,oBAAoB,CAACF,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eAC/D3B,IAAA,CAACJ,MAAM,GAAE,CAAC,cACVI,IAAA,SAAA2B,QAAA,CAAM,eAAa,CAAM,CAAC,EACtB,CAAC,CACJ,CAAC,EACH,CAAC,CACH,CAAC,CAELvB,MAAM,CAACyB,MAAM,GAAK,CAAC,cAClB3B,KAAA,QAAKwB,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB3B,IAAA,CAACR,SAAS,EAACkC,SAAS,CAAC,gBAAgB,CAAE,CAAC,cACxC1B,IAAA,OAAA2B,QAAA,CAAI,eAAa,CAAI,CAAC,cACtB3B,IAAA,MAAA2B,QAAA,CAAG,4EAA0E,CAAG,CAAC,cACjFzB,KAAA,CAACL,IAAI,EAAC+B,EAAE,CAAC,oBAAoB,CAACF,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eACzD3B,IAAA,CAACJ,MAAM,GAAE,CAAC,cACVI,IAAA,SAAA2B,QAAA,CAAM,eAAa,CAAM,CAAC,EACtB,CAAC,EACJ,CAAC,cAEN3B,IAAA,QAAK0B,SAAS,CAAC,aAAa,CAAAC,QAAA,CACzBvB,MAAM,CAAC0B,GAAG,CAAEC,KAAK,eAChB7B,KAAA,QAAqBwB,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzCzB,KAAA,QAAKwB,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BzB,KAAA,QAAKwB,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBzB,KAAA,OAAAyB,QAAA,EAAI,SAAO,CAACI,KAAK,CAACC,GAAG,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,EAAK,CAAC,cACnDhC,KAAA,QAAKwB,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBzB,KAAA,SAAMwB,SAAS,CAAC,YAAY,CAAAC,QAAA,eAC1B3B,IAAA,CAACP,UAAU,GAAE,CAAC,CACbwB,UAAU,CAACc,KAAK,CAACI,SAAS,CAAC,EACxB,CAAC,cACPnC,IAAA,SACE0B,SAAS,CAAC,oBAAoB,CAC9BU,KAAK,CAAE,CAAEC,KAAK,CAAEvB,cAAc,CAACiB,KAAK,CAAChB,MAAM,CAAE,CAAE,CAAAY,QAAA,CAE9CI,KAAK,CAAChB,MAAM,CAACuB,MAAM,CAAC,CAAC,CAAC,CAACJ,WAAW,CAAC,CAAC,CAAGH,KAAK,CAAChB,MAAM,CAACkB,KAAK,CAAC,CAAC,CAAC,CACzD,CAAC,EACJ,CAAC,EACH,CAAC,cACNjC,IAAA,QAAK0B,SAAS,CAAC,aAAa,CAAAC,QAAA,cAC1BzB,KAAA,SAAAyB,QAAA,EAAM,QAAC,CAACI,KAAK,CAACQ,KAAK,CAACC,OAAO,CAAC,CAAC,CAAC,EAAO,CAAC,CACnC,CAAC,EACH,CAAC,cAENtC,KAAA,QAAKwB,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BzB,KAAA,QAAKwB,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5B3B,IAAA,OAAA2B,QAAA,CAAI,sBAAoB,CAAI,CAAC,cAC7BzB,KAAA,QAAKwB,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/B3B,IAAA,CAACN,QAAQ,GAAE,CAAC,cACZQ,KAAA,SAAAyB,QAAA,EACGI,KAAK,CAACU,eAAe,CAACC,MAAM,CAAC,IAAE,CAACX,KAAK,CAACU,eAAe,CAACE,IAAI,CAAC,IAAE,CAACZ,KAAK,CAACU,eAAe,CAACG,KAAK,CAAC,GAAC,CAACb,KAAK,CAACU,eAAe,CAACI,OAAO,EACtH,CAAC,EACJ,CAAC,EACH,CAAC,cAEN3C,KAAA,QAAKwB,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BzB,KAAA,OAAAyB,QAAA,EAAI,eAAa,CAACI,KAAK,CAACe,KAAK,CAACjB,MAAM,CAAC,GAAC,EAAI,CAAC,cAC3C7B,IAAA,QAAK0B,SAAS,CAAC,YAAY,CAAAC,QAAA,CACxBI,KAAK,CAACe,KAAK,CAAChB,GAAG,CAAC,CAACiB,IAAI,CAAEC,KAAK,gBAC3B9C,KAAA,QAAiBwB,SAAS,CAAC,YAAY,CAAAC,QAAA,eACrCzB,KAAA,QAAKwB,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB3B,IAAA,SAAM0B,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAEoB,IAAI,CAACE,OAAO,CAACC,IAAI,CAAO,CAAC,cACtDhD,KAAA,SAAMwB,SAAS,CAAC,eAAe,CAAAC,QAAA,EAAC,OAAK,CAACoB,IAAI,CAACI,QAAQ,EAAO,CAAC,EACxD,CAAC,cACNjD,KAAA,SAAMwB,SAAS,CAAC,YAAY,CAAAC,QAAA,EAAC,QAAC,CAACoB,IAAI,CAACK,KAAK,CAACZ,OAAO,CAAC,CAAC,CAAC,EAAO,CAAC,GALpDQ,KAML,CACN,CAAC,CACC,CAAC,EACH,CAAC,EACH,CAAC,CAELjB,KAAK,CAAChB,MAAM,GAAK,WAAW,eAC3Bf,IAAA,QAAK0B,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5B3B,IAAA,WAAQ0B,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAC,SAAO,CAAQ,CAAC,CAC7C,CACN,GArDOI,KAAK,CAACC,GAsDX,CACN,CAAC,CACC,CACN,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAA7B,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}