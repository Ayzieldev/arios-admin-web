{"ast":null,"code":"import React,{useState,useEffect}from'react';import api from'../utils/api';import{FiTrendingUp,FiDollarSign,FiShoppingCart,FiUsers,FiPackage,FiCalendar,FiBarChart,FiPieChart,FiActivity,FiClock}from'react-icons/fi';import{Line,Bar,Doughnut,Pie}from'react-chartjs-2';import{Chart as ChartJS,CategoryScale,LinearScale,PointElement,LineElement,BarElement,Title,Tooltip,Legend,ArcElement}from'chart.js';import'../style/Analytics.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";ChartJS.register(CategoryScale,LinearScale,PointElement,LineElement,BarElement,Title,Tooltip,Legend,ArcElement);const Analytics=()=>{var _analyticsData$salesD,_analyticsData$salesD2,_analyticsData$salesD3,_analyticsData$monthl,_analyticsData$monthl2,_analyticsData$delive,_analyticsData$delive2,_analyticsData$delive3,_analyticsData$topPro,_analyticsData$topPro2,_analyticsData$summar,_analyticsData$summar2,_analyticsData$summar3,_analyticsData$custom,_analyticsData$topPro3,_analyticsData$custom2,_realtimeData$realtim;const[analyticsData,setAnalyticsData]=useState(null);const[realtimeData,setRealtimeData]=useState(null);const[loading,setLoading]=useState(true);const[period,setPeriod]=useState('monthly');const[activeTab,setActiveTab]=useState('overview');useEffect(()=>{fetchAnalytics();fetchRealtimeData();// Set up real-time updates every 30 seconds\nconst interval=setInterval(()=>{fetchRealtimeData();},30000);return()=>clearInterval(interval);},[period]);const fetchAnalytics=async()=>{try{setLoading(true);console.log('ðŸ” Fetching analytics data...');console.log('ðŸ”— API URL:',process.env.REACT_APP_API_URL);const response=await api.get(`/admin/analytics?period=${period}`);console.log('ðŸ“Š Analytics data received:',response.data);setAnalyticsData(response.data);}catch(error){var _error$response,_error$response2,_error$response3;console.error('âŒ Error fetching analytics:',error);console.error('ðŸ” Error details:',{message:error.message,status:(_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status,statusText:(_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.statusText,data:(_error$response3=error.response)===null||_error$response3===void 0?void 0:_error$response3.data});}finally{setLoading(false);}};const fetchRealtimeData=async()=>{try{const response=await api.get('/admin/analytics/realtime');setRealtimeData(response.data);}catch(error){console.error('Error fetching realtime data:',error);}};const formatCurrency=amount=>{return`â‚±${amount.toLocaleString()}`;};const formatDate=dateString=>{return new Date(dateString).toLocaleDateString();};const getStatusColor=status=>{const colors={pending:'#f59e0b',confirmed:'#3b82f6',out_for_delivery:'#8b5cf6',delivered:'#10b981',cancelled:'#ef4444'};return colors[status]||'#6b7280';};// Prepare chart data\nconst salesChartData={labels:(analyticsData===null||analyticsData===void 0?void 0:(_analyticsData$salesD=analyticsData.salesData)===null||_analyticsData$salesD===void 0?void 0:_analyticsData$salesD.map(item=>{const monthNames=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];const monthName=monthNames[item._id.month-1];return`${monthName} ${item._id.day}`;}))||[],datasets:[{label:'Sales',data:(analyticsData===null||analyticsData===void 0?void 0:(_analyticsData$salesD2=analyticsData.salesData)===null||_analyticsData$salesD2===void 0?void 0:_analyticsData$salesD2.map(item=>item.totalSales))||[],borderColor:'rgb(59, 130, 246)',backgroundColor:'rgba(59, 130, 246, 0.1)',tension:0.4},{label:'Orders',data:(analyticsData===null||analyticsData===void 0?void 0:(_analyticsData$salesD3=analyticsData.salesData)===null||_analyticsData$salesD3===void 0?void 0:_analyticsData$salesD3.map(item=>item.orderCount))||[],borderColor:'rgb(16, 185, 129)',backgroundColor:'rgba(16, 185, 129, 0.1)',tension:0.4}]};const monthlyComparisonData={labels:(analyticsData===null||analyticsData===void 0?void 0:(_analyticsData$monthl=analyticsData.monthlyComparison)===null||_analyticsData$monthl===void 0?void 0:_analyticsData$monthl.map(item=>{const monthNames=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];const monthName=monthNames[item._id.month-1];return`${monthName} ${item._id.year}`;}))||[],datasets:[{label:'Monthly Sales',data:(analyticsData===null||analyticsData===void 0?void 0:(_analyticsData$monthl2=analyticsData.monthlyComparison)===null||_analyticsData$monthl2===void 0?void 0:_analyticsData$monthl2.map(item=>item.totalSales))||[],backgroundColor:'rgba(59, 130, 246, 0.8)',borderColor:'rgb(59, 130, 246)',borderWidth:1}]};const deliveryStatusData={labels:(analyticsData===null||analyticsData===void 0?void 0:(_analyticsData$delive=analyticsData.deliveryStats)===null||_analyticsData$delive===void 0?void 0:_analyticsData$delive.map(item=>item._id))||[],datasets:[{data:(analyticsData===null||analyticsData===void 0?void 0:(_analyticsData$delive2=analyticsData.deliveryStats)===null||_analyticsData$delive2===void 0?void 0:_analyticsData$delive2.map(item=>item.count))||[],backgroundColor:(analyticsData===null||analyticsData===void 0?void 0:(_analyticsData$delive3=analyticsData.deliveryStats)===null||_analyticsData$delive3===void 0?void 0:_analyticsData$delive3.map(item=>getStatusColor(item._id)))||[],borderWidth:2,borderColor:'#ffffff'}]};const topProductsData={labels:(analyticsData===null||analyticsData===void 0?void 0:(_analyticsData$topPro=analyticsData.topProducts)===null||_analyticsData$topPro===void 0?void 0:_analyticsData$topPro.map(item=>item.productName))||[],datasets:[{label:'Quantity Sold',data:(analyticsData===null||analyticsData===void 0?void 0:(_analyticsData$topPro2=analyticsData.topProducts)===null||_analyticsData$topPro2===void 0?void 0:_analyticsData$topPro2.map(item=>item.totalQuantity))||[],backgroundColor:'rgba(139, 92, 246, 0.8)',borderColor:'rgb(139, 92, 246)',borderWidth:1}]};const chartOptions={responsive:true,plugins:{legend:{position:'top'},tooltip:{mode:'index',intersect:false}},scales:{y:{beginAtZero:true,ticks:{callback:function(value){return'â‚±'+value.toLocaleString();}}},x:{ticks:{maxRotation:45,minRotation:0}}},interaction:{mode:'nearest',axis:'x',intersect:false}};const barChartOptions={responsive:true,plugins:{legend:{position:'top'},tooltip:{mode:'index',intersect:false}},scales:{y:{beginAtZero:true},x:{ticks:{maxRotation:45,minRotation:0}}},interaction:{mode:'nearest',axis:'x',intersect:false}};const pieChartOptions={responsive:true,plugins:{legend:{position:'bottom'}}};if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"analytics-loading\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading analytics...\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"analytics\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"analytics-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Analytics Dashboard\"}),/*#__PURE__*/_jsx(\"div\",{className:\"analytics-controls\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"period-selector\",children:[/*#__PURE__*/_jsxs(\"button\",{className:`period-btn ${period==='monthly'?'active':''}`,onClick:()=>setPeriod('monthly'),children:[/*#__PURE__*/_jsx(FiCalendar,{}),\" Monthly\"]}),/*#__PURE__*/_jsxs(\"button\",{className:`period-btn ${period==='yearly'?'active':''}`,onClick:()=>setPeriod('yearly'),children:[/*#__PURE__*/_jsx(FiCalendar,{}),\" Yearly\"]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-cards\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"summary-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"summary-icon revenue\",children:/*#__PURE__*/_jsx(FiDollarSign,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:formatCurrency((analyticsData===null||analyticsData===void 0?void 0:(_analyticsData$summar=analyticsData.summaryStats)===null||_analyticsData$summar===void 0?void 0:_analyticsData$summar.totalRevenue)||0)}),/*#__PURE__*/_jsx(\"p\",{children:\"Total Revenue\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"summary-icon orders\",children:/*#__PURE__*/_jsx(FiShoppingCart,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:(analyticsData===null||analyticsData===void 0?void 0:(_analyticsData$summar2=analyticsData.summaryStats)===null||_analyticsData$summar2===void 0?void 0:_analyticsData$summar2.totalOrders)||0}),/*#__PURE__*/_jsx(\"p\",{children:\"Total Orders\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"summary-icon average\",children:/*#__PURE__*/_jsx(FiTrendingUp,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:formatCurrency((analyticsData===null||analyticsData===void 0?void 0:(_analyticsData$summar3=analyticsData.summaryStats)===null||_analyticsData$summar3===void 0?void 0:_analyticsData$summar3.averageOrderValue)||0)}),/*#__PURE__*/_jsx(\"p\",{children:\"Average Order Value\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"summary-icon customers\",children:/*#__PURE__*/_jsx(FiUsers,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:(analyticsData===null||analyticsData===void 0?void 0:(_analyticsData$custom=analyticsData.customerStats)===null||_analyticsData$custom===void 0?void 0:_analyticsData$custom.length)||0}),/*#__PURE__*/_jsx(\"p\",{children:\"Active Customers\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"analytics-tabs\",children:[/*#__PURE__*/_jsxs(\"button\",{className:`tab-btn ${activeTab==='overview'?'active':''}`,onClick:()=>setActiveTab('overview'),children:[/*#__PURE__*/_jsx(FiBarChart,{}),\" Overview\"]}),/*#__PURE__*/_jsxs(\"button\",{className:`tab-btn ${activeTab==='products'?'active':''}`,onClick:()=>setActiveTab('products'),children:[/*#__PURE__*/_jsx(FiPackage,{}),\" Top Products\"]}),/*#__PURE__*/_jsxs(\"button\",{className:`tab-btn ${activeTab==='customers'?'active':''}`,onClick:()=>setActiveTab('customers'),children:[/*#__PURE__*/_jsx(FiUsers,{}),\" Top Customers\"]}),/*#__PURE__*/_jsxs(\"button\",{className:`tab-btn ${activeTab==='realtime'?'active':''}`,onClick:()=>setActiveTab('realtime'),children:[/*#__PURE__*/_jsx(FiActivity,{}),\" Real-time\"]})]}),activeTab==='overview'&&/*#__PURE__*/_jsx(\"div\",{className:\"analytics-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"chart-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chart-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Monthly Comparison\"}),/*#__PURE__*/_jsx(Bar,{data:monthlyComparisonData,options:chartOptions})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Order Status Distribution\"}),/*#__PURE__*/_jsx(Doughnut,{data:deliveryStatusData,options:pieChartOptions})]})]})}),activeTab==='products'&&/*#__PURE__*/_jsxs(\"div\",{className:\"analytics-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chart-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Top 5 Best Selling Products\"}),/*#__PURE__*/_jsx(Bar,{data:topProductsData,options:barChartOptions})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"products-list\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Product Details\"}),/*#__PURE__*/_jsx(\"div\",{className:\"products-grid\",children:analyticsData===null||analyticsData===void 0?void 0:(_analyticsData$topPro3=analyticsData.topProducts)===null||_analyticsData$topPro3===void 0?void 0:_analyticsData$topPro3.map((product,index)=>{var _product$productImage;return/*#__PURE__*/_jsxs(\"div\",{className:\"product-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"product-rank\",children:[\"#\",index+1]}),/*#__PURE__*/_jsx(\"div\",{className:\"product-image\",children:/*#__PURE__*/_jsx(\"img\",{src:((_product$productImage=product.productImage)===null||_product$productImage===void 0?void 0:_product$productImage[0])||'/placeholder-product.jpg',alt:product.productName,onError:e=>{e.target.src='/placeholder-product.jpg';}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-info\",children:[/*#__PURE__*/_jsx(\"h4\",{children:product.productName}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Quantity Sold: \",product.totalQuantity]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Revenue: \",formatCurrency(product.totalRevenue)]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Orders: \",product.orderCount]})]})]},product._id);})})]})]}),activeTab==='customers'&&/*#__PURE__*/_jsx(\"div\",{className:\"analytics-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"customers-list\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Top Customers\"}),/*#__PURE__*/_jsx(\"div\",{className:\"customers-grid\",children:analyticsData===null||analyticsData===void 0?void 0:(_analyticsData$custom2=analyticsData.customerStats)===null||_analyticsData$custom2===void 0?void 0:_analyticsData$custom2.map((customer,index)=>{var _customer$userInfo,_customer$userInfo2;return/*#__PURE__*/_jsxs(\"div\",{className:\"customer-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"customer-rank\",children:[\"#\",index+1]}),/*#__PURE__*/_jsxs(\"div\",{className:\"customer-info\",children:[/*#__PURE__*/_jsx(\"h4\",{children:((_customer$userInfo=customer.userInfo)===null||_customer$userInfo===void 0?void 0:_customer$userInfo.name)||'Unknown Customer'}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Email: \",((_customer$userInfo2=customer.userInfo)===null||_customer$userInfo2===void 0?void 0:_customer$userInfo2.email)||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Total Spent: \",formatCurrency(customer.totalSpent)]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Orders: \",customer.orderCount]})]})]},customer._id);})})]})}),activeTab==='realtime'&&/*#__PURE__*/_jsx(\"div\",{className:\"analytics-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"realtime-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"realtime-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Last 24 Hours Activity\"}),/*#__PURE__*/_jsx(\"div\",{className:\"realtime-stats\",children:realtimeData===null||realtimeData===void 0?void 0:(_realtimeData$realtim=realtimeData.realtimeStats)===null||_realtimeData$realtim===void 0?void 0:_realtimeData$realtim.map(stat=>/*#__PURE__*/_jsxs(\"div\",{className:\"realtime-stat\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",style:{color:getStatusColor(stat._id)},children:stat._id.charAt(0).toUpperCase()+stat._id.slice(1)}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-value\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-count\",children:stat.count}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-revenue\",children:formatCurrency(stat.revenue)})]})]},stat._id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"realtime-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Live Activity\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"live-indicator\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"pulse-dot\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Live updates every 30 seconds\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"last-updated\",children:[\"Last updated: \",new Date().toLocaleTimeString()]})]})]})})]});};export default Analytics;","map":{"version":3,"names":["React","useState","useEffect","api","FiTrendingUp","FiDollarSign","FiShoppingCart","FiUsers","FiPackage","FiCalendar","FiBarChart","FiPieChart","FiActivity","FiClock","Line","Bar","Doughnut","Pie","Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","BarElement","Title","Tooltip","Legend","ArcElement","jsx","_jsx","jsxs","_jsxs","register","Analytics","_analyticsData$salesD","_analyticsData$salesD2","_analyticsData$salesD3","_analyticsData$monthl","_analyticsData$monthl2","_analyticsData$delive","_analyticsData$delive2","_analyticsData$delive3","_analyticsData$topPro","_analyticsData$topPro2","_analyticsData$summar","_analyticsData$summar2","_analyticsData$summar3","_analyticsData$custom","_analyticsData$topPro3","_analyticsData$custom2","_realtimeData$realtim","analyticsData","setAnalyticsData","realtimeData","setRealtimeData","loading","setLoading","period","setPeriod","activeTab","setActiveTab","fetchAnalytics","fetchRealtimeData","interval","setInterval","clearInterval","console","log","process","env","REACT_APP_API_URL","response","get","data","error","_error$response","_error$response2","_error$response3","message","status","statusText","formatCurrency","amount","toLocaleString","formatDate","dateString","Date","toLocaleDateString","getStatusColor","colors","pending","confirmed","out_for_delivery","delivered","cancelled","salesChartData","labels","salesData","map","item","monthNames","monthName","_id","month","day","datasets","label","totalSales","borderColor","backgroundColor","tension","orderCount","monthlyComparisonData","monthlyComparison","year","borderWidth","deliveryStatusData","deliveryStats","count","topProductsData","topProducts","productName","totalQuantity","chartOptions","responsive","plugins","legend","position","tooltip","mode","intersect","scales","y","beginAtZero","ticks","callback","value","x","maxRotation","minRotation","interaction","axis","barChartOptions","pieChartOptions","className","children","onClick","summaryStats","totalRevenue","totalOrders","averageOrderValue","customerStats","length","options","product","index","_product$productImage","src","productImage","alt","onError","e","target","customer","_customer$userInfo","_customer$userInfo2","userInfo","name","email","totalSpent","realtimeStats","stat","style","color","charAt","toUpperCase","slice","revenue","toLocaleTimeString"],"sources":["C:/Users/Desktop/Desktop/gitfiles/Arios/arios-admin-web/src/pages/Analytics.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport api from '../utils/api';\r\nimport { \r\n  FiTrendingUp, \r\n  FiDollarSign, \r\n  FiShoppingCart, \r\n  FiUsers,\r\n  FiPackage,\r\n  FiCalendar,\r\n  FiBarChart,\r\n  FiPieChart,\r\n  FiActivity,\r\n  FiClock\r\n} from 'react-icons/fi';\r\nimport { Line, Bar, Doughnut, Pie } from 'react-chartjs-2';\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  PointElement,\r\n  LineElement,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n  ArcElement,\r\n} from 'chart.js';\r\nimport '../style/Analytics.css';\r\n\r\nChartJS.register(\r\n  CategoryScale,\r\n  LinearScale,\r\n  PointElement,\r\n  LineElement,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n  ArcElement\r\n);\r\n\r\nconst Analytics = () => {\r\n  const [analyticsData, setAnalyticsData] = useState(null);\r\n  const [realtimeData, setRealtimeData] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [period, setPeriod] = useState('monthly');\r\n  const [activeTab, setActiveTab] = useState('overview');\r\n\r\n  useEffect(() => {\r\n    fetchAnalytics();\r\n    fetchRealtimeData();\r\n    \r\n    // Set up real-time updates every 30 seconds\r\n    const interval = setInterval(() => {\r\n      fetchRealtimeData();\r\n    }, 30000);\r\n    \r\n    return () => clearInterval(interval);\r\n  }, [period]);\r\n\r\n  const fetchAnalytics = async () => {\r\n    try {\r\n      setLoading(true);\r\n      console.log('ðŸ” Fetching analytics data...');\r\n      console.log('ðŸ”— API URL:', process.env.REACT_APP_API_URL);\r\n      \r\n      const response = await api.get(`/admin/analytics?period=${period}`);\r\n      console.log('ðŸ“Š Analytics data received:', response.data);\r\n      setAnalyticsData(response.data);\r\n    } catch (error) {\r\n      console.error('âŒ Error fetching analytics:', error);\r\n      console.error('ðŸ” Error details:', {\r\n        message: error.message,\r\n        status: error.response?.status,\r\n        statusText: error.response?.statusText,\r\n        data: error.response?.data\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchRealtimeData = async () => {\r\n    try {\r\n      const response = await api.get('/admin/analytics/realtime');\r\n      setRealtimeData(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching realtime data:', error);\r\n    }\r\n  };\r\n\r\n  const formatCurrency = (amount) => {\r\n    return `â‚±${amount.toLocaleString()}`;\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    return new Date(dateString).toLocaleDateString();\r\n  };\r\n\r\n  const getStatusColor = (status) => {\r\n    const colors = {\r\n      pending: '#f59e0b',\r\n      confirmed: '#3b82f6',\r\n      out_for_delivery: '#8b5cf6',\r\n      delivered: '#10b981',\r\n      cancelled: '#ef4444'\r\n    };\r\n    return colors[status] || '#6b7280';\r\n  };\r\n\r\n  // Prepare chart data\r\n  const salesChartData = {\r\n    labels: analyticsData?.salesData?.map(item => {\r\n      const monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\r\n      const monthName = monthNames[item._id.month - 1];\r\n      return `${monthName} ${item._id.day}`;\r\n    }) || [],\r\n    datasets: [\r\n      {\r\n        label: 'Sales',\r\n        data: analyticsData?.salesData?.map(item => item.totalSales) || [],\r\n        borderColor: 'rgb(59, 130, 246)',\r\n        backgroundColor: 'rgba(59, 130, 246, 0.1)',\r\n        tension: 0.4,\r\n      },\r\n      {\r\n        label: 'Orders',\r\n        data: analyticsData?.salesData?.map(item => item.orderCount) || [],\r\n        borderColor: 'rgb(16, 185, 129)',\r\n        backgroundColor: 'rgba(16, 185, 129, 0.1)',\r\n        tension: 0.4,\r\n      }\r\n    ],\r\n  };\r\n\r\n  const monthlyComparisonData = {\r\n    labels: analyticsData?.monthlyComparison?.map(item => {\r\n      const monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\r\n      const monthName = monthNames[item._id.month - 1];\r\n      return `${monthName} ${item._id.year}`;\r\n    }) || [],\r\n    datasets: [\r\n      {\r\n        label: 'Monthly Sales',\r\n        data: analyticsData?.monthlyComparison?.map(item => item.totalSales) || [],\r\n        backgroundColor: 'rgba(59, 130, 246, 0.8)',\r\n        borderColor: 'rgb(59, 130, 246)',\r\n        borderWidth: 1,\r\n      }\r\n    ],\r\n  };\r\n\r\n  const deliveryStatusData = {\r\n    labels: analyticsData?.deliveryStats?.map(item => item._id) || [],\r\n    datasets: [\r\n      {\r\n        data: analyticsData?.deliveryStats?.map(item => item.count) || [],\r\n        backgroundColor: analyticsData?.deliveryStats?.map(item => getStatusColor(item._id)) || [],\r\n        borderWidth: 2,\r\n        borderColor: '#ffffff',\r\n      }\r\n    ],\r\n  };\r\n\r\n  const topProductsData = {\r\n    labels: analyticsData?.topProducts?.map(item => item.productName) || [],\r\n    datasets: [\r\n      {\r\n        label: 'Quantity Sold',\r\n        data: analyticsData?.topProducts?.map(item => item.totalQuantity) || [],\r\n        backgroundColor: 'rgba(139, 92, 246, 0.8)',\r\n        borderColor: 'rgb(139, 92, 246)',\r\n        borderWidth: 1,\r\n      }\r\n    ],\r\n  };\r\n\r\n  const chartOptions = {\r\n    responsive: true,\r\n    plugins: {\r\n      legend: {\r\n        position: 'top',\r\n      },\r\n      tooltip: {\r\n        mode: 'index',\r\n        intersect: false,\r\n      },\r\n    },\r\n    scales: {\r\n      y: {\r\n        beginAtZero: true,\r\n        ticks: {\r\n          callback: function(value) {\r\n            return 'â‚±' + value.toLocaleString();\r\n          }\r\n        }\r\n      },\r\n      x: {\r\n        ticks: {\r\n          maxRotation: 45,\r\n          minRotation: 0\r\n        }\r\n      }\r\n    },\r\n    interaction: {\r\n      mode: 'nearest',\r\n      axis: 'x',\r\n      intersect: false\r\n    },\r\n  };\r\n\r\n  const barChartOptions = {\r\n    responsive: true,\r\n    plugins: {\r\n      legend: {\r\n        position: 'top',\r\n      },\r\n      tooltip: {\r\n        mode: 'index',\r\n        intersect: false,\r\n      },\r\n    },\r\n    scales: {\r\n      y: {\r\n        beginAtZero: true,\r\n      },\r\n      x: {\r\n        ticks: {\r\n          maxRotation: 45,\r\n          minRotation: 0\r\n        }\r\n      }\r\n    },\r\n    interaction: {\r\n      mode: 'nearest',\r\n      axis: 'x',\r\n      intersect: false\r\n    },\r\n  };\r\n\r\n  const pieChartOptions = {\r\n    responsive: true,\r\n    plugins: {\r\n      legend: {\r\n        position: 'bottom',\r\n      },\r\n    },\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"analytics-loading\">\r\n        <div className=\"loading-spinner\"></div>\r\n        <p>Loading analytics...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"analytics\">\r\n      <div className=\"analytics-header\">\r\n        <h1>Analytics Dashboard</h1>\r\n        <div className=\"analytics-controls\">\r\n          <div className=\"period-selector\">\r\n            <button \r\n              className={`period-btn ${period === 'monthly' ? 'active' : ''}`}\r\n              onClick={() => setPeriod('monthly')}\r\n            >\r\n              <FiCalendar /> Monthly\r\n            </button>\r\n            <button \r\n              className={`period-btn ${period === 'yearly' ? 'active' : ''}`}\r\n              onClick={() => setPeriod('yearly')}\r\n            >\r\n              <FiCalendar /> Yearly\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Summary Cards */}\r\n      <div className=\"summary-cards\">\r\n        <div className=\"summary-card\">\r\n          <div className=\"summary-icon revenue\">\r\n            <FiDollarSign />\r\n          </div>\r\n          <div className=\"summary-content\">\r\n            <h3>{formatCurrency(analyticsData?.summaryStats?.totalRevenue || 0)}</h3>\r\n            <p>Total Revenue</p>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"summary-card\">\r\n          <div className=\"summary-icon orders\">\r\n            <FiShoppingCart />\r\n          </div>\r\n          <div className=\"summary-content\">\r\n            <h3>{analyticsData?.summaryStats?.totalOrders || 0}</h3>\r\n            <p>Total Orders</p>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"summary-card\">\r\n          <div className=\"summary-icon average\">\r\n            <FiTrendingUp />\r\n          </div>\r\n          <div className=\"summary-content\">\r\n            <h3>{formatCurrency(analyticsData?.summaryStats?.averageOrderValue || 0)}</h3>\r\n            <p>Average Order Value</p>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"summary-card\">\r\n          <div className=\"summary-icon customers\">\r\n            <FiUsers />\r\n          </div>\r\n          <div className=\"summary-content\">\r\n            <h3>{analyticsData?.customerStats?.length || 0}</h3>\r\n            <p>Active Customers</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Tabs */}\r\n      <div className=\"analytics-tabs\">\r\n        <button \r\n          className={`tab-btn ${activeTab === 'overview' ? 'active' : ''}`}\r\n          onClick={() => setActiveTab('overview')}\r\n        >\r\n          <FiBarChart /> Overview\r\n        </button>\r\n        <button \r\n          className={`tab-btn ${activeTab === 'products' ? 'active' : ''}`}\r\n          onClick={() => setActiveTab('products')}\r\n        >\r\n          <FiPackage /> Top Products\r\n        </button>\r\n        <button \r\n          className={`tab-btn ${activeTab === 'customers' ? 'active' : ''}`}\r\n          onClick={() => setActiveTab('customers')}\r\n        >\r\n          <FiUsers /> Top Customers\r\n        </button>\r\n        <button \r\n          className={`tab-btn ${activeTab === 'realtime' ? 'active' : ''}`}\r\n          onClick={() => setActiveTab('realtime')}\r\n        >\r\n          <FiActivity /> Real-time\r\n        </button>\r\n      </div>\r\n\r\n      {/* Overview Tab */}\r\n      {activeTab === 'overview' && (\r\n        <div className=\"analytics-content\">\r\n          <div className=\"chart-grid\">\r\n            \r\n            <div className=\"chart-card\">\r\n              <h3>Monthly Comparison</h3>\r\n              <Bar data={monthlyComparisonData} options={chartOptions} />\r\n            </div>\r\n            \r\n            <div className=\"chart-card\">\r\n              <h3>Order Status Distribution</h3>\r\n              <Doughnut data={deliveryStatusData} options={pieChartOptions} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Products Tab */}\r\n      {activeTab === 'products' && (\r\n        <div className=\"analytics-content\">\r\n                      <div className=\"chart-card\">\r\n              <h3>Top 5 Best Selling Products</h3>\r\n              <Bar data={topProductsData} options={barChartOptions} />\r\n            </div>\r\n          \r\n          <div className=\"products-list\">\r\n            <h3>Product Details</h3>\r\n            <div className=\"products-grid\">\r\n              {analyticsData?.topProducts?.map((product, index) => (\r\n                <div key={product._id} className=\"product-card\">\r\n                  <div className=\"product-rank\">#{index + 1}</div>\r\n                  <div className=\"product-image\">\r\n                    <img \r\n                      src={product.productImage?.[0] || '/placeholder-product.jpg'} \r\n                      alt={product.productName}\r\n                      onError={(e) => {\r\n                        e.target.src = '/placeholder-product.jpg';\r\n                      }}\r\n                    />\r\n                  </div>\r\n                  <div className=\"product-info\">\r\n                    <h4>{product.productName}</h4>\r\n                    <p>Quantity Sold: {product.totalQuantity}</p>\r\n                    <p>Revenue: {formatCurrency(product.totalRevenue)}</p>\r\n                    <p>Orders: {product.orderCount}</p>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Customers Tab */}\r\n      {activeTab === 'customers' && (\r\n        <div className=\"analytics-content\">\r\n          <div className=\"customers-list\">\r\n            <h3>Top Customers</h3>\r\n            <div className=\"customers-grid\">\r\n              {analyticsData?.customerStats?.map((customer, index) => (\r\n                <div key={customer._id} className=\"customer-card\">\r\n                  <div className=\"customer-rank\">#{index + 1}</div>\r\n                  <div className=\"customer-info\">\r\n                    <h4>{customer.userInfo?.name || 'Unknown Customer'}</h4>\r\n                    <p>Email: {customer.userInfo?.email || 'N/A'}</p>\r\n                    <p>Total Spent: {formatCurrency(customer.totalSpent)}</p>\r\n                    <p>Orders: {customer.orderCount}</p>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Real-time Tab */}\r\n      {activeTab === 'realtime' && (\r\n        <div className=\"analytics-content\">\r\n          <div className=\"realtime-grid\">\r\n            <div className=\"realtime-card\">\r\n              <h3>Last 24 Hours Activity</h3>\r\n              <div className=\"realtime-stats\">\r\n                {realtimeData?.realtimeStats?.map((stat) => (\r\n                  <div key={stat._id} className=\"realtime-stat\">\r\n                    <div className=\"stat-label\" style={{ color: getStatusColor(stat._id) }}>\r\n                      {stat._id.charAt(0).toUpperCase() + stat._id.slice(1)}\r\n                    </div>\r\n                    <div className=\"stat-value\">\r\n                      <span className=\"stat-count\">{stat.count}</span>\r\n                      <span className=\"stat-revenue\">{formatCurrency(stat.revenue)}</span>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"realtime-card\">\r\n              <h3>Live Activity</h3>\r\n              <div className=\"live-indicator\">\r\n                <div className=\"pulse-dot\"></div>\r\n                <span>Live updates every 30 seconds</span>\r\n              </div>\r\n              <div className=\"last-updated\">\r\n                Last updated: {new Date().toLocaleTimeString()}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Analytics; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}